# Flask Configuration
FLASK_ENV=development
FLASK_DEBUG=True
SECRET_KEY=dev-secret-key-change-in-production

# JWT Configuration
JWT_SECRET_KEY=jwt-secret-key-change-in-production

# Database
DATABASE_PATH=data/app.db

# Upload Configuration
MAX_CONTENT_LENGTH=16777216  # 16MB in bytes
UPLOAD_FOLDER=uploads
TEMPLATE_FOLDER=templates
MODEL_FOLDER=models
FEEDBACK_FOLDER=feedback

# Async Processing Configuration
# Set to 'true' to run pattern learning in background (non-blocking, fast response)
# Set to 'false' to run pattern learning synchronously (blocking, immediate result)
ASYNC_PATTERN_LEARNING=true

# Set to 'true' to run auto-training in background (non-blocking, fast response)
# Set to 'false' to run auto-training synchronously (blocking, immediate result)
ASYNC_AUTO_TRAINING=true

# Training Performance Configuration
# Set to 'true' to evaluate metrics during incremental training (slower, but saves metrics)
# Set to 'false' to skip evaluation during incremental training (faster, metrics will be NULL)
INCREMENTAL_TRAINING_EVALUATE=false

# Auto-Training Triggers
# Minimum number of new validated documents before triggering auto-training
MIN_NEW_DOCUMENTS=5
# Full retrain every N documents (instead of incremental)
FULL_RETRAIN_INTERVAL=20

AUTO_TRAINING=True

# Multiline inference (data-driven)
MULTILINE_INFER_MIN_SAMPLES=5
MULTILINE_INFER_P90_LENGTH_THRESHOLD=90
MULTILINE_INFER_MEAN_LENGTH_THRESHOLD=70

# Multiline inference (layout-aware)
MULTILINE_LAYOUT_INFER_MIN_SAMPLES=5
MULTILINE_LAYOUT_INFER_MIN_HITS=2
MULTILINE_LAYOUT_INFER_MIN_RATIO=0.3
MULTILINE_LAYOUT_INFER_X_TOLERANCE_FACTOR=0.25
MULTILINE_LAYOUT_INFER_Y_GAP_MIN_FACTOR=0.6

# Boundary guard to reduce false truncation on wrapped lines
NEXT_FIELD_Y_MIN_GAP_FACTOR=1.0